<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Fontawesome 6 Pro -->
    <link preload rel="stylesheet" href="libs/all.css" rel="preload">
     <!-- Style -->
     <link rel="icon sortcut" href="img/logo.svg"/>
    <link rel="stylesheet" href="style.css">
    <!-- Script -->
    <script src="script.js" defer></script>
    <title>ùó†ùó¢ùó° ùóïùó®ùóóùóöùóòùóß</title>
</head>
<body>
    <nav>
        <div id="logo_container">
            <img src="img/logo_mon_budget.png" alt="">
        </div>
        <ul id="menu">
            <li onclick="openTab(event, 'Vue')" class="btn tablinks" id="default"><i class="fa-regular fa-chart-mixed"></i><p>Vue d'ensemble</p></li>
            <li onclick="openTab(event, 'Revenus')" class="btn tablinks"><i class="fa-regular fa-chart-line-up"></i><p>Revenus</p></li>
            <li onclick="openTab(event, 'Depenses')" class="btn tablinks"><i class="fa-regular fa-chart-line-down"></i><p>D√©penses</p></li>
            <li onclick="openTab(event, 'Echeance')" class="btn tablinks"><i class="fa-regular fa-landmark"></i><p>√âch√©ances</p></li>
        </ul>
        <ul id="menu_2">
            <li onclick="openTab(event, 'Infos')" class="btn tablinks"><i class="fa-regular fa-circle-info"></i><p>Infos</p></li>
            <li onclick="importData();" class="btn"><i class="fa-regular fa-arrow-up-from-dotted-line"></i><p>Importer</p></li>
            <li onclick="exportData();" class="btn"><i class="fa-regular fa-arrow-down-from-dotted-line"></i><p>Exporter</p></li>
            <li onclick="cleanData();" class="btn"><i class="fa-regular fa-trash-list"></i><p>Tout supprimer</p></li>
        </ul>
    </nav>
    <main>
        <h1>Mon Budget</h1>
        <!-- VUE GLOBAL -->
        <section id="Vue" class="tabcontent">
            <h2><i class="fa-regular fa-chart-mixed"></i> <p>Vue d'ensemble</p></h2>
            <div class="table_container">
                <table id="table_globalView">
                    <thead>
                        <tr>
                            <th class="th_Icone"></th>
                            <th class="th_Label">Label</th>
                            <th class="th_Revenu">Revenu</th>
                            <th class="th_Depense">Depense</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                    <tfoot>
                        <tr>
                            <td class="td_Icone" colspan="1"><i class="fa-regular fa-chart-mixed"></i></td>
                            <td class="label_Total" colspan="1">Total :</td>
                            <td class="total_Montant_revenus_global" colspan="1" id="total_revenus_global">0 ‚Ç¨</td>
                            <td class="total_Montant_depenses_global" colspan="0" id="total_depenses_global">0 ‚Ç¨</td>
                        </tr>
                        <tr>
                            <td class="td_Icone" colspan="1"><i class="fa-regular fa-chart-mixed"></i></td>
                            <td class="label_Reste" colspan="1">Reste :</td>
                            <td class="total_Reste_negatif" colspan="2" id="total_reste_global">0 ‚Ç¨</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </section>
        <!-- REVENUS -->
        <section id="Revenus" class="tabcontent">
            <h2><i class="fa-regular fa-chart-line-up"></i> <p>Revenus</p></h2>
            <div class="table_container">
                <table id="table_revenus">
                    <thead>
                        <tr>
                            <th class="th_Icone"></th>
                            <th class="th_Date">Date</th>
                            <th class="th_Label">Label</th>
                            <th class="th_Montant">Montant</th>
                            <th class="th_Action">Action</th>
                            <th class="th_Check"></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                    <tfoot>
                        <tr>
                            <td colspan="1"></td>
                            <td colspan="2">Total</td>
                            <td class="total_Montant" colspan="1" id="total_revenus">0 ‚Ç¨</td>
                            <td colspan="1"></td>
                            <td colspan="1"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="new_entry bottom-radius">
                <h3>Ajouter un revenu :</h3>
                <div class="custom_select">
                    <button id="icon_button_revenu" type="button" class="btn_3"><i class="fa-solid fa-list"></i></button>
                    <ul id="icon_list_revenu" style="display: none;"></ul>
                </div>
                <input type="text" name="date_revenu" id="select_date_revenu" placeholder="Date">
                <input type="text" name="label_revenu" id="select_label_revenu" placeholder="Label *" required>
                <input type="number" name="montant_revenu" id="select_montant_revenu" placeholder="Montant *" min="0" required>
                <div type="button" id="new_entry_revenu" class="btn_3" onclick="ajouterItem('revenu')">Ajouter un revenu</div>
            </div>
        </section>
        <!-- DEPENSES -->
        <section id="Depenses" class="tabcontent">
            <h2><i class="fa-regular fa-chart-line-down"></i> <p>D√©penses</p></h2>
            <div class="table_container">
                <table id="table_depenses">
                    <thead>
                        <tr>
                            <th class="th_Icone"></th>
                            <th class="th_Date">Date</th>
                            <th class="th_Label">Label</th>
                            <th class="th_Montant">Montant</th>
                            <th class="th_Action">Action</th>
                            <th class="th_Check"></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                    <tfoot>
                        <tr>
                            <td colspan="1"></td>
                            <td colspan="2">Total</td>
                            <td class="total_Montant" colspan="1" id="total_depenses">0 ‚Ç¨</td>
                            <td colspan="1"></td>
                            <td colspan="1"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="new_entry bottom-radius">
                <h3>Ajouter une d√©pense :</h3>
                <div class="custom_select">
                    <button id="icon_button_depense" type="button" class="btn_3"><i class="fa-solid fa-list"></i></button>
                    <ul id="icon_list_depense" style="display: none;"></ul>
                </div>
                <input type="text" name="date_depense" id="select_date_depense" placeholder="Date">
                <input type="text" name="label_depense" id="select_label_depense" placeholder="Label *" required>
                <input type="number" name="montant_depense" id="select_montant_depense" placeholder="Montant *" min="0" required>
                <div type="button" id="new_entry_depense" class="btn_3" onclick="ajouterItem('depense')">Ajouter une d√©pense</div>
            </div>
        </section>
        <!-- ECHEANCES -->
        <section id="Echeance" class="tabcontent">
            <h2><i class="fa-regular fa-landmark"></i> <p>√âch√©ances</p></h2>
            <div class="new_entry  top-radius">
                <h3>Ajouter un ech√©ancier :</h3>
                <div class="custom_select">
                    <button id="icon_button_echeance" type="button" class="btn_3"><i class="fa-solid fa-list"></i></button>
                    <ul id="icon_list_echeance" style="display: none;"></ul>
                </div>
                <input type="text" name="date_echeance" id="select_date_echeance" placeholder="Date">
                <input type="text" name="label_echeance" id="select_label_echeance" placeholder="Label *" required>
                <input type="number" name="montant_echeance" id="select_montant_echeance" placeholder="Montant *" min="0" required>
                <div type="button" id="new_entry_echeance" class="btn_3" onclick="ajouterItem('echeance')">Ajouter</div>
            </div>
            <!-- Recevoir le tableau global des √©ch√©ances -->
            <div id="echeances_container"></div>
            
            <!-- Recevoir le d√©tails des √©ch√©ances (plusieurs tableaux d'√©ch√©ance) -->
            <div id="echeances_container_content"></div>

        </section>
        <!-- INFOS -->
        <section id="Infos" class="tabcontent">
            <h2><i class="fa-regular fa-circle-info"></i> Infos</h2>
            <div class="p_container full-radius">
                <h4>1. Donn√©es</h4>
<p>Vos donn√©es sont stock√©es localement dans votre navigateur.<br>Attention : un nettoyage du navigateur (avec CCleaner ou autre utilitaire) peut supprimer ces donn√©es.<br>Utilisez le bouton <strong>Exporter</strong> pour sauvegarder vos donn√©es dans un fichier JSON, que vous pourrez r√©importer ult√©rieurement via le bouton <strong>Importer</strong>.</p>

<h4>2. Vue d'ensemble</h4>
<p>Cette section affiche un tableau r√©capitulatif de tous vos revenus et d√©penses mensuels.<br>Les totaux sont recalcul√©s automatiquement apr√®s chaque modification.</p>

<h4>3. Revenus</h4>
<p>Cette page pr√©sente un tableau listant l'ensemble de vos revenus.<br>Vous pouvez :
    <ul>
        <li>Ajouter de nouveaux revenus via le formulaire sous le tableau</li>
        <li>Modifier ou supprimer des entr√©es gr√¢ce aux boutons d'action</li>
        <li>Inclure/exclure une entr√©e du calcul total via la case √† cocher (activ√©e par d√©faut)</li>
    </ul>
</p>

<h4>4. D√©penses</h4>
<p>Cette fonctionnalit√© est identique √† la section <strong>Revenus</strong>, mais s'applique √† vos d√©penses.</p>

<h4>5. √âch√©ances</h4>
<p>Cette section vous permet de g√©rer vos √©ch√©ances et paiements :
    <ul>
        <li>Le tableau principal liste toutes vos √©ch√©ances</li>
        <li>Le formulaire d'ajout en haut du tableau permet de cr√©er de nouvelles √©ch√©ances</li>
        <li>Chaque √©ch√©ance dispose d'un sous-tableau d√©taill√© pour suivre les remboursements</li>
        <li>Le formulaire en bas de tableau permet d'ajouter des paiements partiels</li>
    </ul>
</p>

<h4>6. Importer</h4>
<p>Ce bouton vous permet d'importer vos donn√©es √† partir d'un fichier JSON pr√©c√©demment export√©.</p>
<p style="color: orange; font-weight: bold;">Important : Le fichier doit √™tre au format JSON g√©n√©r√© par la fonction d'export de cette application.</p>

<h4>7. Exporter</h4>
<p>G√©n√©rez un fichier JSON contenant l'ensemble de vos donn√©es. Cette sauvegarde vous permettra de restaurer vos informations ult√©rieurement.</p>

<h4>8. Tout supprimer</h4>
<p>Cette fonction efface d√©finitivement toutes vos donn√©es enregistr√©es dans l'application.</p>
            </div>
        </section>
        <!-- NOTIFICATION -->
        <div id="notification" class="hidden"><p id="notification_content"></p></div>
    </main>
    <!-- MODAL D'√âDITION -->
    <div id="modal_edite_value">
        <div id="edite_value" class="full-radius">
            <div class="custom_select">
                <button id="icon_button_cat" type="button" class="btn_3"><i class="fa-solid fa-list"></i></button>
                <ul id="icon_list_cat" style="display: none;"></ul>
            </div>
            <input type="text" name="date_cat" id="select_date_cat" placeholder="Date">
            <input type="text" name="label_cat" id="select_label_cat" placeholder="Label">
            <input type="number" name="montant_cat" id="select_montant_cat" min="0" placeholder="Montant">
            <div class="btn_3 btn_save" onclick="saveValue()">Sauvegarder</div>
            <div class="btn_3 btn_cancel" onclick="closeModal()">Annuler</div>
        </div>
    </div>
    <!-- MODAL DE CONFIRMATION -->
    <div id="modal_confirmation">
        <div id="confirmation" class="full-radius">
            <h5 id="message_confirmation"></h5>
            <div id="btn_confirmation">
                <div id="confirm_yes" class="btn_3 btn_save">Confirmer</div>
                <div id="confirm_no" class="btn_3 btn_cancel">Annuler</div>
            </div>
        </div>
    </div>
</body>
</html>